{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","containers/hipica/Eventos/index.js","axios.instance.js","util/storage.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Eventos","props","useState","setIsFetching","eventos","data","setData","realdata","setrealdata","useEffect","dataName","getStorage","JSON","parse","axios","get","then","response","console","log","setStorage","stringify","catch","err","finally","anos","Array","$","each","mesesv","ano","meses","diasv","mes","dias","diav","dia","className","class","map","descricao","local","estado","instance","create","baseURL","now","Date","expiresIn","localStorage","getItem","undefined","name","removeItem","e","removeStorage","value","expires","Math","abs","schedule","setItem"],"mappings":"6HAAA,4CAEA,SAASA,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,OAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,cAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EAGM,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNf,EAAQI,OAAOc,IAAS,GAAMC,QAAQ,SAAUC,GAC9C,YAAeN,EAAQM,EAAKF,EAAOE,MAE5BhB,OAAOiB,0BAChBjB,OAAOkB,iBAAiBR,EAAQV,OAAOiB,0BAA0BH,IAEjElB,EAAQI,OAAOc,IAASC,QAAQ,SAAUC,GACxChB,OAAOmB,eAAeT,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,MAKjF,OAAON,I,2ICsHMU,UAhJC,SAACC,GAAW,IAAD,EAEFC,oBAAS,GAFP,mBAEnBC,GAFmB,aAIRD,mBAAS,CACpBE,SAAS,IALU,mBAGhBC,EAHgB,KAInBC,EAJmB,OAQJJ,oBAAS,GARL,mBAOhBK,EAPgB,KAQnBC,EARmB,KAgEvB,OAtDAC,oBAAU,WACN,IAAMC,EAAW,sBACbC,YAAWD,IACXP,GAAc,GACdG,EAAQM,KAAKC,MAAMF,YAAWD,MAG9BI,IACKC,IAAI,mBACJC,KAAK,SAAAC,GACFC,QAAQC,IAAIF,GACZX,EAAQW,EAASZ,MACjBe,YAAWV,EAAUE,KAAKS,UAAUJ,EAASZ,SAEhDiB,MAAM,SAAAC,GAAG,OAAIL,QAAQC,IAAII,KACxBC,QAAQ,WACNrB,GAAc,MAG3B,IAEHM,oBAAW,WACP,IAAMgB,EAAO,IAAIC,MACjBC,IAAEC,KAAKvB,EAAKD,QAAS,SAASR,EAAKiC,GAEhCJ,EAAKtC,KAAK,CACN2C,IAAKlC,EACLmC,MAAQ,WACP,IAAMA,EAAQ,IAAIL,MAkBd,OAjBJC,IAAEC,KAAKC,EAAQ,SAASjC,EAAKoC,GAEzBD,EAAM5C,KAAK,CACP8C,IAAKrC,EACLsC,KAAO,WACH,IAAMA,EAAO,IAAIR,MAQjB,OAPAC,IAAEC,KAAKI,EAAO,SAASpC,EAAKuC,GAExBD,EAAK/C,KAAL,aACIiD,IAAKxC,GACFuC,MAGJD,EATJ,OAaJH,EAnBJ,OAuBZb,QAAQC,IAAIM,GACZjB,EAAYiB,IACjB,CAACpB,IAGC,6BAASgC,UAAU,qCACd9B,EACD,oCACA,yBAAK8B,UAAU,qBACX,yBAAKA,UAAU,cACX,wBAAIC,MAAM,WAAV,WACA,0FAMR,yBAAKD,UAAU,aACV9B,EAASgC,IAAI,SAAAT,GAAG,OACT,oCACA,yBAAKO,UAAU,mEACX,yBAAKA,UAAU,gBACVP,EAAIA,MAIb,yBAAKO,UAAU,kBACX,yBAAKA,UAAU,yBACX,uCAGA,uCAGA,uCAKHP,EAAIC,MAAMQ,IAAI,SAACR,GAAD,OACX,yBAAKM,UAAU,iBACf,yBAAKA,UAAU,qBACX,8BAAON,EAAME,MAGjB,yBAAKI,UAAU,gCACX,qCAGA,uCAGA,uCAKJ,yBAAKA,UAAU,wBACVN,EAAMG,KAAKK,IAAK,SAACH,GAAD,OACb,yBAAKC,UAAU,uBACX,0BAAMA,UAAU,QACXD,EAAIA,KAET,0BAAMC,UAAU,UAAWD,EAAII,WAC/B,yBAAKH,UAAU,SACX,8BAAOD,EAAIK,OACX,8BAAOL,EAAIM,sBAa7C,Q,gCClJd,YAEMC,EAFN,OAEiB7B,EAAM8B,OAAO,CAC1BC,QAAS,wDAGEF,O,gCCiBR,SAAShC,EAAWf,GAEvB,IAAIkD,EAAMC,KAAKD,MAEXE,EAAYC,aAAaC,QAAQtD,EAAI,cAGzC,QAFgBuD,IAAZH,GAAqC,OAAZA,IAAoBA,EAAY,GAEzDA,EAAYF,EAEZ,OA1BD,SAAuBM,GAC1B,IACIH,aAAaI,WAAWD,GACxBH,aAAaI,WAAWD,EAAO,cACjC,MAAME,GAEJ,OADApC,QAAQC,IAAI,sCAAuCiC,EAAO,wBAA0BxC,KAAKS,UAAUiC,KAC5F,GAmBPC,CAAc3D,GACP,KAEP,IAEI,OADYqD,aAAaC,QAAQtD,GAEnC,MAAM0D,GAEJ,OADApC,QAAQC,IAAI,kCAAmCvB,EAAM,wBAA0BgB,KAAKS,UAAUiC,IACvF,MAYZ,SAASlC,EAAWxB,EAAK4D,EAAOC,GAE/BA,OADUN,IAAVM,GAAiC,OAAVA,EACZ,KAEDC,KAAKC,IAAIF,GAGvB,IACIG,EADMb,KAAKD,MACc,IAARW,EACrB,IACIR,aAAaY,QAAQjE,EAAK4D,GAC1BP,aAAaY,QAAQjE,EAAM,aAAcgE,GAC3C,MAAMN,GAEJ,OADApC,QAAQC,IAAI,kCAAmCvB,EAAM,sBAAwBgB,KAAKS,UAAUiC,KACrF,EAEX,OAAO,EAnEV","file":"static/js/18.0d823770.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import axios from 'axios.instance'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {getStorage, setStorage} from 'util/storage';\r\nimport $ from 'jquery';\r\n\r\nimport './styles.scss';\r\n\r\nconst Eventos = (props) => {\r\n    const [isFetching,\r\n        setIsFetching] = useState(true);\r\n    const [data,\r\n        setData] = useState({\r\n        eventos: false\r\n    });\r\n    const [realdata,\r\n        setrealdata] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const dataName = 'hipica-eventos-data';\r\n        if (getStorage(dataName)) {\r\n            setIsFetching(false);\r\n            setData(JSON.parse(getStorage(dataName)));\r\n\r\n        } else {\r\n            axios\r\n                .get('/equipe/eventos')\r\n                .then(response => {\r\n                    console.log(response)\r\n                    setData(response.data);\r\n                    setStorage(dataName, JSON.stringify(response.data));\r\n                })\r\n                .catch(err => console.log(err))\r\n                . finally(() => {\r\n                    setIsFetching(false);\r\n                })\r\n        }\r\n    }, []);\r\n\r\n    useEffect( () => {\r\n        const anos = new Array();\r\n        $.each(data.eventos, function(key, mesesv) { \r\n           // Adiciona os anos\r\n           anos.push({\r\n               ano: key,\r\n               meses: (() => {\r\n                const meses = new Array();\r\n                $.each(mesesv, function(key, diasv) { \r\n                    // Adiciona os meses dentro do ano\r\n                    meses.push({\r\n                        mes: key,\r\n                        dias: (function(){\r\n                            const dias = new Array();\r\n                            $.each(diasv, function(key, diav) { \r\n                                // Adiciona os dias dentro do mes\r\n                                dias.push({\r\n                                    dia: key,\r\n                                    ...diav\r\n                                  })\r\n                                })\r\n                            return dias\r\n                        })()\r\n                      })\r\n                    })\r\n                    return meses;\r\n               })()\r\n             })\r\n           })\r\n           console.log(anos)\r\n           setrealdata(anos)\r\n    },[data])\r\n\r\n    return (\r\n        <section className=\"Eventos page-interna mb-2 mb-lg-5\">\r\n            {realdata ?\r\n            <>\r\n            <div className=\"container pt-lg-3\">\r\n                <div className=\"markup mbn\">\r\n                    <h2 class=\"mb-lg-4\">Eventos</h2>\r\n                    <p>\r\n                        Programação de concursos da Equipe Santo Antônio\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n                {realdata.map(ano => (\r\n                        <>\r\n                        <div className=\"d-flex justify-content-center pb-4 pb-lg-3 mb-lg-5 pt-2 pt-lg-5\">\r\n                            <div className=\"Eventos__ano\">\r\n                                {ano.ano}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"Eventos__table\">\r\n                            <div className=\"Eventos__table-header\">\r\n                                <div>\r\n                                    Mês\r\n                                </div>\r\n                                <div>\r\n                                    Evento\r\n                                </div>\r\n                                <div>\r\n                                    Local\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            {ano.meses.map((meses) => (\r\n                                <div className=\"Eventos__item\">\r\n                                <div className=\"Eventos__item-mes\">\r\n                                    <span>{meses.mes}</span>\r\n                                </div>\r\n\r\n                                <div className=\"Eventos__table-header mobile\">\r\n                                    <div>\r\n                                        Dias\r\n                                    </div>\r\n                                    <div>\r\n                                        Evento\r\n                                    </div>\r\n                                    <div>\r\n                                        Local\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"Eventos__table-datas\">\r\n                                    {meses.dias.map( (dia) => (\r\n                                        <div className=\"Eventos__table-item\">\r\n                                            <span className=\"data\">\r\n                                                {dia.dia}\r\n                                            </span>\r\n                                            <span className=\"evento\">{ dia.descricao}</span>\r\n                                            <div className=\"local\">\r\n                                                <span>{dia.local}</span>\r\n                                                <span>{dia.estado}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            ))}\r\n                        </div>\r\n                    </>\r\n                    )\r\n                )}\r\n            </div>\r\n            </>\r\n            : null}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Eventos;","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://agenciawebsorocaba.com.br/equipe_sa/api/v1/'\r\n});\r\n\r\nexport default instance;"," /*  removeStorage: removes a key from localStorage and its sibling expiracy key\r\n    params:\r\n        key <string>     : localStorage key to remove\r\n    returns:\r\n        <boolean> : telling if operation succeeded\r\n */\r\nexport function removeStorage(name) {\r\n    try {\r\n        localStorage.removeItem(name);\r\n        localStorage.removeItem(name + '_expiresIn');\r\n    } catch(e) {\r\n        console.log('removeStorage: Error removing key ['+ name + '] from localStorage: ' + JSON.stringify(e) );\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/*  getStorage: retrieves a key from localStorage previously set with setStorage().\r\n    params:\r\n        key <string> : localStorage key\r\n    returns:\r\n        <string> : value of localStorage key\r\n        null : in case of expired key or failure\r\n */\r\nexport function getStorage(key) {\r\n\r\n    var now = Date.now();  //epoch time, lets deal only with integer\r\n    // set expiration for storage\r\n    var expiresIn = localStorage.getItem(key+'_expiresIn');\r\n    if (expiresIn===undefined || expiresIn===null) { expiresIn = 0; }\r\n\r\n    if (expiresIn < now) {// Expired\r\n        removeStorage(key);\r\n        return null;\r\n    } else {\r\n        try {\r\n            var value = localStorage.getItem(key);\r\n            return value;\r\n        } catch(e) {\r\n            console.log('getStorage: Error reading key ['+ key + '] from localStorage: ' + JSON.stringify(e) );\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/*  setStorage: writes a key into localStorage setting a expire time\r\n    params:\r\n        key <string>     : localStorage key\r\n        value <string>   : localStorage value\r\n        expires <number> : number of seconds from now to expire the key\r\n    returns:\r\n        <boolean> : telling if operation succeeded\r\n */\r\nexport function setStorage(key, value, expires) {\r\n    if (expires===undefined || expires===null) {\r\n        expires = (1*60*60);  // default: seconds for 1 day\r\n    } else {\r\n        expires = Math.abs(expires); //make sure it's positive\r\n    }\r\n\r\n    var now = Date.now();  //millisecs since epoch time, lets deal only with integer\r\n    var schedule = now + expires*1000; \r\n    try {\r\n        localStorage.setItem(key, value);\r\n        localStorage.setItem(key + '_expiresIn', schedule);\r\n    } catch(e) {\r\n        console.log('setStorage: Error setting key ['+ key + '] in localStorage: ' + JSON.stringify(e) );\r\n        return false;\r\n    }\r\n    return true;\r\n}"],"sourceRoot":""}