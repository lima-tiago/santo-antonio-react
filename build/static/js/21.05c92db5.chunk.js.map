{"version":3,"sources":["containers/sitio/Historia/index.js","axios.instance.js","util/storage.js"],"names":["Hipismo","props","useState","setIsFetching","page","dados","data","setData","useEffect","dataName","getStorage","JSON","parse","axios","get","then","response","console","log","setStorage","stringify","catch","err","finally","className","title","video_superior","dangerouslySetInnerHTML","__html","titulo_texto","texto_superior","texto_fundo_bege","texto_abaixo_fundo_bege","src","imagem_historia_1","class","alt","imagem_historia_2","texto_quadro_verde","texto_entre_imagens","imagem_historia_3","imagem_historia_4","texto_entre_imagens_2","imagem_historia_5","texto_final","instance","create","baseURL","key","now","Date","expiresIn","localStorage","getItem","undefined","name","removeItem","e","removeStorage","value","expires","Math","abs","schedule","setItem"],"mappings":"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","file":"static/js/21.05c92db5.chunk.js","sourcesContent":["import axios from 'axios.instance'\r\nimport React, {useState, useEffect} from 'react';\r\nimport {getStorage, setStorage} from 'util/storage';\r\n\r\nimport './styles.scss';\r\n\r\nconst Hipismo = (props) => {\r\n    const [isFetching,\r\n        setIsFetching] = useState(true);\r\n    const [data,\r\n        setData] = useState({\r\n        page: {\r\n            dados: false\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        const dataName = 'sitio-historia-data';\r\n        if (getStorage(dataName)) {\r\n            setIsFetching(false);\r\n            setData(JSON.parse(getStorage(dataName)));\r\n\r\n        } else {\r\n            axios\r\n                .get('/sitio/historia')\r\n                .then(response => {\r\n                    console.log(response)\r\n                    setData(response.data);\r\n                    setStorage(dataName, JSON.stringify(response.data));\r\n                })\r\n                .catch(err => console.log(err))\r\n                . finally(() => {\r\n                    setIsFetching(false);\r\n                })\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"Historia page-interna mb-2 mb-lg-5\">\r\n           {data.page.dados ? <>\r\n            <div className=\"container sm\">\r\n                <div className=\"markup\">\r\n                    <h2>\r\n                        {data.page.title}\r\n                    </h2>\r\n\r\n                    {data.page.dados.video_superior ? (\r\n                        <div dangerouslySetInnerHTML={{\r\n                            __html: `\r\n                            <video autoplay muted loop playsinline>\r\n                                <source src=\"${data.page.dados.video_superior}\" type=\"video/mp4\"/>\r\n                            </video>\r\n                        `}}></div>\r\n                    ) : null}\r\n\r\n                    <h3>\r\n                        {data.page.dados.titulo_texto}\r\n                    </h3>\r\n                    <div\r\n                        dangerouslySetInnerHTML={{\r\n                        __html: data.page.dados.texto_superior\r\n                    }}></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-bege\">\r\n                <div className=\"container sm markup\">\r\n                    <blockquote\r\n                        dangerouslySetInnerHTML={{\r\n                        __html: data.page.dados.texto_fundo_bege\r\n                    }}></blockquote>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container sm\">\r\n                <div className=\"markup\">\r\n                    <div\r\n                        dangerouslySetInnerHTML={{\r\n                        __html: data.page.dados.texto_abaixo_fundo_bege\r\n                    }}></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container\">\r\n                <div className=\"row my-5 py-lg-4\">\r\n                    <div className=\"col-lg-5 position-relative\">\r\n                        <img src={data.page.dados.imagem_historia_1} class=\"img-1\" alt=\"\"/>\r\n                    </div>\r\n                    <div className=\"col-lg-7 position-relative\">\r\n                        <img src={data.page.dados.imagem_historia_2} alt=\"\"/>\r\n                        <div className=\"img-legenda legenda-1\">\r\n                            {data.page.dados.texto_quadro_verde}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container sm pb-4 pb-lg-5\">\r\n                <div className=\"markup\">\r\n                    <div\r\n                        dangerouslySetInnerHTML={{\r\n                        __html: data.page.dados.texto_entre_imagens\r\n                    }}></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container pb-4 pb-lg-5\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-6\">\r\n                        <img src={data.page.dados.imagem_historia_3} alt=\"\"/>\r\n                    </div>\r\n                    <div className=\"col-lg-6\">\r\n                        <img src={data.page.dados.imagem_historia_4} alt=\"\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container sm pb-4 pb-lg-5\">\r\n                <div className=\"markup\">\r\n                <div\r\n                        dangerouslySetInnerHTML={{\r\n                        __html: data.page.dados.texto_entre_imagens_2\r\n                    }}></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container pb-4 pb-lg-5\">\r\n                <div className=\"markup\">\r\n                    <img src={data.page.dados.imagem_historia_5} alt=\"\"/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container sm\">\r\n                <div className=\"markup\">\r\n                <div\r\n                        dangerouslySetInnerHTML={{\r\n                        __html: data.page.dados.texto_final\r\n                    }}></div>\r\n                </div>\r\n            </div>\r\n           </> : null}\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Hipismo;","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://agenciawebsorocaba.com.br/equipe_sa/api/v1/'\r\n});\r\n\r\nexport default instance;"," /*  removeStorage: removes a key from localStorage and its sibling expiracy key\r\n    params:\r\n        key <string>     : localStorage key to remove\r\n    returns:\r\n        <boolean> : telling if operation succeeded\r\n */\r\nexport function removeStorage(name) {\r\n    try {\r\n        localStorage.removeItem(name);\r\n        localStorage.removeItem(name + '_expiresIn');\r\n    } catch(e) {\r\n        console.log('removeStorage: Error removing key ['+ name + '] from localStorage: ' + JSON.stringify(e) );\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/*  getStorage: retrieves a key from localStorage previously set with setStorage().\r\n    params:\r\n        key <string> : localStorage key\r\n    returns:\r\n        <string> : value of localStorage key\r\n        null : in case of expired key or failure\r\n */\r\nexport function getStorage(key) {\r\n\r\n    var now = Date.now();  //epoch time, lets deal only with integer\r\n    // set expiration for storage\r\n    var expiresIn = localStorage.getItem(key+'_expiresIn');\r\n    if (expiresIn===undefined || expiresIn===null) { expiresIn = 0; }\r\n\r\n    if (expiresIn < now) {// Expired\r\n        removeStorage(key);\r\n        return null;\r\n    } else {\r\n        try {\r\n            var value = localStorage.getItem(key);\r\n            return value;\r\n        } catch(e) {\r\n            console.log('getStorage: Error reading key ['+ key + '] from localStorage: ' + JSON.stringify(e) );\r\n            return null;\r\n        }\r\n    }\r\n}\r\n/*  setStorage: writes a key into localStorage setting a expire time\r\n    params:\r\n        key <string>     : localStorage key\r\n        value <string>   : localStorage value\r\n        expires <number> : number of seconds from now to expire the key\r\n    returns:\r\n        <boolean> : telling if operation succeeded\r\n */\r\nexport function setStorage(key, value, expires) {\r\n    if (expires===undefined || expires===null) {\r\n        expires = (1*60*60);  // default: seconds for 1 day\r\n    } else {\r\n        expires = Math.abs(expires); //make sure it's positive\r\n    }\r\n\r\n    var now = Date.now();  //millisecs since epoch time, lets deal only with integer\r\n    var schedule = now + expires*1000; \r\n    try {\r\n        localStorage.setItem(key, value);\r\n        localStorage.setItem(key + '_expiresIn', schedule);\r\n    } catch(e) {\r\n        console.log('setStorage: Error setting key ['+ key + '] in localStorage: ' + JSON.stringify(e) );\r\n        return false;\r\n    }\r\n    return true;\r\n}"],"sourceRoot":""}